<% content_for :for_head do %>
    <meta property="og:title" content="<%= @recipe.recipe_name %>">
    <meta property="og:type" content="article">
    <meta property="og:image" content="<%= @recipe.image_url(:medium).to_s %>">
    <meta property="og:image:width" content="200" />
    <meta property="og:image:height" content="200" />
    <meta property="og:url" content="<%= request.original_url %>">
<% end %>
<% if notice %>
    <div class="container">
      <div class="alert alert-info">
        <strong id="notice"><%= notice %></strong>
      </div>
    </div>
<% end %>

<div class="container">
  <!--Recipe's main image-->
  <% if !@recipe.image.blank? %>
    <div class="thumbnail">
      <%= image_tag @recipe.image_url(:medium).to_s %>
    </div>
  <% end %>

  <!-- About the recipe-->
  <ul class="list-group">
    <li class="list-group-item"> <strong>Recipe:</strong> <%= @recipe.id %></li>
    <li class="list-group-item"> <strong>User:</strong> <%= @recipe.user.user_name %></li>
    <li class="list-group-item"> <strong>Recipe name:</strong>  <%= @recipe.recipe_name %> </li>
    <li class="list-group-item"> <strong>Instructions:</strong> <%= @recipe.instructions %></li>
    <li class="list-group-item"> <strong>Complexity:</strong> <%= @recipe.complexity %></li>
  </ul>
</div>

<div class="container">
  <% if @recipe_images.empty? %>
    <p> No images to display</p>
  <% end %>
<!--Recipes other images-->
  <% @recipe_images.each do |image|%>
      <div class="thumbnail">
        <%= image_tag image.image_url(:medium).to_s %>
        <%= link_to 'Delete', image, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-danger'%>
      </div>
  <% end %>
</div>
<!--Share button-->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8&appId=519903674872413";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div class="fb-share-button" data-href="<% request.original_url %>" data-layout="button_count" data-size="small" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.freesound.org%2F&amp;src=sdkpreparse">Share</a></div>

<p>
  <strong>Tags:</strong>
    <% @tags_recipes.each do |tags_recipe| %>
      <% if tags_recipe.recipe_id == @recipe.id || is_admin %>
          <td><%= tags_recipe.tag.tag_name %></td>
      <% end %>
    <% end %>
</p>


<% if current_user && (current_user == @recipe.user) %>
    <%= link_to 'Add New Image', new_recipe_image_path(:recipe_id => @recipe.id), {class: 'btn btn-primary'} %>
<% end %>

<% if (current_user && @recipe.user.id == current_user.id )|| is_admin %>
    <%= link_to 'Edit', edit_recipe_path(@recipe) %> |
<% end %>
<%= link_to 'Back', recipes_path %>
